{% extends 'vault/base.html' %}
{% load form_tags %}

{% block content %}
<div class="container mt-5" style="max-width: 600px;">
  <div class="card shadow-sm border-0">
    <div class="card-body">
      <h4 class="text-primary mb-4">🔧 Two-Factor Authentication Settings</h4>

      {% if default_device %}
        <p class="text-success">✅ 2FA is currently <strong>enabled</strong>.</p>
        <form method="post">
          {% csrf_token %}
          <button type="submit" name="disable" class="btn btn-danger">Disable 2FA</button>
        </form>
      {% else %}
        <p class="text-danger">⚠️ 2FA is <strong>not enabled</strong> on this account.</p>
        <a href="{% url 'two_factor:setup' %}" class="btn btn-primary">Enable 2FA</a>
        <a href="{% url 'two_factor:backup_tokens' %}" class="btn btn-outline-primary mt-2">View Backup Codes</a>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
